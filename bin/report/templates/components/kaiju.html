<h2>Kaiju results</h2>

<p>
  This section shows [...]
</p>

<div class="my-3" style="overflow-x: auto;">

  {% if kaiju | length %}
  <table id="kaijuTable" class="table table-lined tight text-center">
    <thead>
      <tr>
        {% for colname in kaiju.columns_primary_display %}
        <th
          {% if kaiju.COLUMN_METADATA[colname]['tooltip'] %}
          title="{{ kaiju.COLUMN_METADATA[colname]['tooltip'] }}"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
          {% endif %}
        >
          {{ kaiju.COLUMN_METADATA[colname]['label'] }}
        </th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for row in kaiju %}
      <tr
        {% if row['bs_class'] %}
        class="alert-{{ row['bs_class'] }}"
        {% endif %}
      >
        {% for colname in kaiju.columns_primary_display  %}
        <td class="align-middle">
          {% if colname == 'evalue' %}
          <span style="white-space: nowrap;">{{ row[colname] }}</span>
          {% else %}
          {{ row[colname] }}
          {% endif %}
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>
    No taxonomic classification results to show.
  </p>
  {% endif %}
</div>

<script>
  $(document).ready( () => new DataTable('#kaijuTable') );
</script>
